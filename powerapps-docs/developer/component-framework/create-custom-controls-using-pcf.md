---
title: Create and deploy a custom component| Microsoft Docs
description: Start creating a component using the PowerApps component framework Tooling
keywords: PowerApps component framework, Custom components, Component Framework
ms.author: nabuthuk
manager: kvivek
ms.date: 04/23/2019
ms.service: "powerapps"
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: d2cbf58a-9112-45c2-b823-2c07a310714c
---

# Create and deploy a custom component

[!INCLUDE[cc-beta-prerelease-disclaimer](../../includes/cc-beta-prerelease-disclaimer.md)]

This topic provides information on how to create and deploy a custom component using PowerApps component framework.

Ensure that you have installed Microsoft PowerApps CLI

## Create a new component

To get started, open a new Developer Command Prompt for VS 2017 after installing PowerApps CLI.

1. In the Developer Command Prompt for VS 2017, create a new folder on your local hard drive for example, *C:\Users\<your name>\Documents\My_PCF_Control*
2. Go to the newly created folder using the command `cd <specify your new folder path>`
3. Run the following command to create a new component project by passing some basic parameters:

    `pac pcf init --namespace <specify your namespace here> --name <put component name here> --template <component type>`
 
   > [!NOTE]
   > Currently, we offer two types of components: **field** and **dataset**.

4. To retrieve all the required project dependencies, run the command `npm install`.
5. Open your project folder (`C:\Users\<your name>\Documents\My_PCF_Control\<component name>`) in any developer environment of your choice and get started with your custom component development.

## Build your component

To build your component you can open the folder in Visual Studio Code and use the (Ctrl-Shift-B) command, then select your build options. Alternately, you can build your control quickly using  `npm run build` command in your Developer Command Prompt for VS 2017 window.

> [!TIP]
> To debug your component during or after the build operation, see [Debug custom components](debugging-custom-controls.md).

## Deploy your component

Once you have built your component, you must deploy it to be used.  

Follow the steps below to create and import a [solution](/powerapps/maker/common-data-service/solutions-overview) file:

1. Create a new directory and go to it: 

    `cd <new directory name>`
1. Create a new solution project in the directory of your choice by using the command:

     `pac solution init --publisherName <enter your publisher name> --customizationPrefix <enter your publisher name>` after `cd <your new folder>`.

   > [!NOTE]
   > The [publisherName](https://docs.microsoft.com/en-us/powerapps/developer/common-data-service/reference/entities/publisher) and [cutomizationPrefix](https://docs.microsoft.com/en-us/powerapps/maker/common-data-service/change-solution-publisher-prefix) values must be unique to your environment.
 
3. Once the new solution project is created, you need to refer to the location where the created component is located. You can add the reference by using the following command:

    `pac solution add-reference --path <path or relative path of your PowerApps component framework project on disk>`

4. To generate a zip file from your solution project, you will need to `cd` into your solution project directory and build the project using the following command:

    `msbuild /t:restore` then `msbuild`

    > [!NOTE]
    > - If msbuild 15 is not in the path, open Developer Command Prompt for VS 2017 to run the `msbuild` commands.
    > - Building the solution in the debug configuration, generates an unmanaged solution package. A managed solution package is generated by building the solution in release configuration. These settings can be overridden by specifying SolutionPackageType property in `cdsproj` file.
    
   If you would like your project build to emit a managed solution or both managed and unmanaged, open the folder where you created your solution project, edit the `cdsproj` file and uncomment the below property group:
   ```XML
   <PropertyGroup>
       <SolutionPackageType>Managed</SolutionPackageType>
    </PropertyGroup>
    ```

    You can also enable additional solution packaging [capabilities](/powerapps/developer/common-data-service/compress-extract-solution-file-solutionpackager) by adding any of the property group elements below:

    ```XML
       <PropertyGroup>
         <SolutionPackageErrorLevel />
         <SolutionPackageEnableLocalization />
        <SolutionPackagerWorkingDirectory />
        <SolutionPackageLogFilePath />
        <SolutionPackageZipFilePath />
        <SolutionPackageMapFilePath />
       </PropertyGroup>
    ```

5. The generated solution zip file is located in `\bin\debug\`. You must manually [import the solution](https://docs.microsoft.com/en-us/dynamics365/customer-engagement/customize/import-update-export-solutions) using the web portal once the zip file is ready.

## Adding custom components to an entity or a field

To add a custom component like data-set component or simple table component to a grid or view, follow the steps mentioned in the topic [Add controls to fields and entities](add-custom-controls-to-a-field-or-entity.md). 

## Telemetry

The feature team is aggregating anonymized telemetry in order to understand which features or capabilities in the PowerApps CLI tool are most often used by the developers. The aggregated data allows us to provide the best experience to the customers by focusing on whatâ€™s truly is important.

> [!NOTE]
> To disable the telemetry collection, run the command `pac telemetry --enable false`. To turn the telemetry back, use the command `pac telemetry --enable true`.

## How to Uninstall Microsoft PowerApps CLI

To uninstall the CLI tool please run the MSI from [here](http://download.microsoft.com/download/D/B/E/DBE69906-B4DA-471C-8960-092AB955C681/powerapps-cli-0.1.51.msi). If you are Private Preview Participant and have an older version of CLI, please follow below manual steps:

1. To find out where PowerApps CLI is installed, open a command prompt and type `where pac`
1. Delete the PowerAppsCLI folder.
1. Open Environment Variables tool by running command `rundll32 sysdm.cpl,EditEnvironmentVariables` in the command prompt
1. Double-click on `Path` under `User variable for...` section
1. Select the row containing PowerAppsCLI path and click the Delete button on the right-hand side
1. Click OK twice

## Known Configuration issues and Workarounds

**Msbuild error MSB4036:**

1. The name of the task in the project file is the same as the name of the task class.
2. The task class is public and implements the Microsoft.Build.Framework.ITask interface.
3. The task is correctly declared with <UsingTask> in the project file or in the *.tasks files located in the <path> directory

**Resolution:**

1. Open Visual Studio Installer. 
1. For VS 2017, select **Modify**. 
1. Click on Individual Components.
1. Under Code Tools, check **NuGet targets & Build Tasks**.

### See also

[Debug custom components](debugging-custom-controls.md)
[Implementing components in TypeScript](implementing-controls-using-typescript.md)<br/>
[Updating existing components into new tools format](updating-existing-controls.md)<br/>
[PowerApps component framework API Reference](reference/index.md)<br/>
[PowerApps component framework Overview](overview.md)
