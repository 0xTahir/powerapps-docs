<properties
	pageTitle="PowerApps: Patch function"
	description="Reference information for the Patch function in PowerApps, including syntax and examples"
	services="powerapps"
	documentationCenter="na"
	authors="gregli-msft"
	manager="dwrede"
	editor=""
	tags=""/>

<tags
   ms.service="powerapps"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="10/21/2015"
   ms.author="gregli"/>

# Patch function in PowerApps #

The Patch function modifies or creates a [Record](file-name.md) in a [Data Source](file-name.md). You can also use it to merge records.

## Overview ##

The Patch function is the preferred way to modify a record in a data source.  [Column Values](file-name.md) values in the record can be modified, without affecting the other columns.  The [Update](function-update.md) function can be used to completely replace an existing record.

When used with the [Defaults](function-defaults.md) function, the Patch function will create records in a data source. This is useful when creating a [Screen](file-name.md) that can both edit and create records. The [Collect](function-collect.md) can also be used to create records.

The Patch function can also be used without a data source to merge records.         

## Description ##

### Modifying and Creating Records in a Data Source ###

When the first argument is a data source, the second argument is an existing record to modify in that data source. Subsequent arguments are change records containing column values to change in the existing record. If the same column appears in more than one change record, values that appear later in the argument list have priority.

If the second argument contains a complete [Primary Key](file-name.md), changes are applied to the existing record in the data source. If a primary key is missing, a new record is created in the data source. 

Patch returns the modified or created record. When creating a record, the data source may automatically generate primary key values which will be included in the return value.
 
Problems can arise when applying a change to a data source such as conflicting changes, validation failures, and permission issues. You can use the [Errors](function-errors.md) function to test for and examine issues. For more information see [Working with Data Sources](file-name.md).

### Merging Records outside of a Data Source ###

When the first argument is not a data source, all of the arguments contain records to be merged.  If the same column appears in more than one change record, values that appear later in the argument list have priority.  Patch returns the merged record without any [side effects](file-name.md). 

## Syntax ##

**Patch**( *DataSource*, *ExistingRecord*, *ChangeRecord*, … )

- *DataSource* – Optional. The Data Source in which to find Original Record.

- *ExistingRecord* – Required. The Record to be modified.  If a primary key is not provided, a new record is created.

- *ChangeRecord(s)* – Required.  One or more change records to apply to the existing record.  If the same column appears in more than one change record, values that appear later in the argument list have priority. 

**Patch**( *Record1*, *Record2*, … )

- *Record(s)* - Required.  Two or more records to combine together.  If the same column appears in more than one record, values that appear later in the argument list have priority.

## Examples ##

### Modifying and Creating Records in a Data Source ###

#### IceCream Data Source ####

| ID (primary key, generated by data source)  | Flavor | Quantity |
|--------------|-----------------|------------------------------------------------|
| 1 | Chocolate | 100 |
| 2| Vanilla | 200 |

| Formula                                 | Description                                                                                                                                           | Result              |
|--------------|-----------------------------------|---------------------|
| Patch(&nbsp;IceCream, {&nbsp;ID:&nbsp;1&nbsp;}, {&nbsp;Quantity:&nbsp;400&nbsp;} ) | Modified the record with primary key ID of 1 (Chocolate) in the IceCream Data Source and with a new Quantity to 400. | {&nbsp;ID:&nbsp;1, Flavor:&nbsp;"Chocolate", Quantity:&nbsp;400 } |
| Patch( IceCream, Defaults( IceCream ), {&nbsp;Flavor:&nbsp;“Strawberry”&nbsp;} ) | Creates a new record in the IceCream data source. ID is auto generated by the data source (3), Flavor is provided by a change record ("Strawberry"), and Quantity is provided by the Defaults function (0).   | { ID:&nbsp;3, Flavor:&nbsp;“Strawberry”, Quantity:&nbsp;0 } |

### Merging Records outside of a Data Source ###

| Formula                                 | Description                                                                                                                                           | Result              |
|-----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------|
| Patch( {&nbsp;Name:&nbsp;"James",&nbsp;Score:&nbsp;90&nbsp;}, {&nbsp;Name:&nbsp;"Jim",&nbsp;Passed:&nbsp;true&nbsp;} ) | Merges the record {&nbsp;Name:&nbsp;"James", Score:&nbsp;90&nbsp;} with record {&nbsp;Name:&nbsp;"Jim", Passed:&nbsp;true&nbsp;}.  The Name column conflicts, so the value from the record given later on the argument list has the priority.  Other columns do not conflict and are passed through to the result unmodified. | {&nbsp;Name:&nbsp;"Jim", Score:&nbsp;90, Passed:&nbsp;true&nbsp;} |



